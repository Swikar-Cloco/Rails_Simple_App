
<%# To imbed ruby code in here we need to use embedded ruby tags like this one used to comment %>



<table>
    <thead>
        <tr>

            <th>
                Id
            </th>    
            <th>
                Title
            </th>    
            <th>
                Description
            </th>    
            <th>
                Actions
            </th>   
        </tr>
    </thead>
    <tbody>
        <% @articles.each do |article|  %>
            <tr>
                <td> 
                    <%= article.id  %>
                </td>

                <td> 
                    <%= article.title  %>
                </td>

                <td> 
                    <%= article.description  %>
                </td>

                <td> 
                    <%= link_to 'VIEW',  article_path(article)%> <br>
                    <% if logged_in? && current_user.id == article.user_id  %>
                    <br>
                        <%= link_to 'EDIT',  edit_article_path(article)%> <br>
                        <%# <%= link_to 'Delete',  article_path(article), method: :delete %> 
                        <%# This is not working so we are using buttons instead of links %>
                        <%# <%= link_to 'DELETE',  article, method: :delete %><br>
                        <%= button_to "DELETE", article, method: :delete, onclick: "return confirm('SURE ???');" %> <br>
                        <%#  link_to 'Delete',  article_path(article), method: :delete -- simply we could have passed article as rails is smart enough to take id from the each do iteration var article  %>
                    <%end  %>
                </td>
                            
            </tr>
        <%end  %>
        
    </tbody>
</table>